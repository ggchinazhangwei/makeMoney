{"version":3,"sources":["main.js","component/uAnchor.js","component/uRender.js","page/award.js","page/index.js","service/uCommon.js","service/WebApi.js","filter/uHtml.js","page/award.html","page/index.html"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;uEChBA;ACAA","file":"app.js","sourcesContent":["/*\n |--------------------------------------------------------------------------\n | 设置本地模拟接口的目录\n |--------------------------------------------------------------------------\n | 如果不需要模拟 则删除此行\n |\n |\n */\n\nued.ajax.mock('mock')\n\n/*\n |--------------------------------------------------------------------------\n | 解决移动端 click 300ms 延迟\n |--------------------------------------------------------------------------\n | 如果页面比较特殊会出现 BUG 则删除此行\n |\n |\n */\n\nued.fastclick()\n\n/*\n |--------------------------------------------------------------------------\n | 微信 JSSDK 配置\n |--------------------------------------------------------------------------\n | 上线后，如果是 umaman.com 结尾的域名，这里不用改动\n | 如果是外部接口或者有特殊需求，请查看文档 /frontend/public/ued.js/doc/api.html\n |\n */\n\n//ued.weixin.uma()\n\n/*\n |--------------------------------------------------------------------------\n | 隐藏微信右上角分享按钮\n |--------------------------------------------------------------------------\n | 如果不需要隐藏，则删除此行\n | 如果想刚开始隐藏，等待 JSSDK 加载成功后才显示，也可以保留这行代码，不用删\n |\n */\n\n//wx.ready(function () {\r\n//  wx.hideOptionMenu()\r\n//})\n\n/*\n |--------------------------------------------------------------------------\n | 设置微信分享\n |--------------------------------------------------------------------------\n | 会在 config 成功后自动触发\n | 可以多次设置，会覆盖前面的设置\n |\n */\n\n// ued.weixin.share({\n//     title: '',\n//     desc: '',\n//     link: '',\n//     imgUrl: ''\n// })\n\n/*\n |--------------------------------------------------------------------------\n | 百度统计\n |--------------------------------------------------------------------------\n | ued.baidu.track('百度统计代码问号后面那一串内容')，多个可以用数组\n |\n |\n */\n\n// ued.baidu.track('???')\n\n/*\n |--------------------------------------------------------------------------\n | ICC 统计\n |--------------------------------------------------------------------------\n | ued.track('填 openid')\n | 如果这个时候还拿不到openid 就在拿到之后再调用一次 ued.track() 和 ued.trackPage()\n |\n */\n\n// ued.track('???')\n//ued.trackPage()\n\n/*\n |--------------------------------------------------------------------------\n | 定义 angular 模块\n |--------------------------------------------------------------------------\n | run 里可以注入 service 执行一些初始化逻辑\n | 如果不涉及 service 的调用，可以直接写在 run 外面\n |\n */\n\nangular.module('ued', []).run(function (WebApi) {\n\t\t\n\n})\n\n/*\n |--------------------------------------------------------------------------\n | 加载主题\n |--------------------------------------------------------------------------\n | 主题名：通常是从接口获取、或者从 cookie 获取\n | 是否插入模式：如果是从异步接口获取的数据再加载主题，需要设置为 true\n |\n */\n\nloadTheme('default')\n\nfunction loadTheme (theme, append) {\n    if (theme && theme != 'default') {\n        var version = $('html').data('version')\n        var css = 'dist/theme-' + theme + '.css?' + version\n        var js = 'dist/theme-' + theme + '.js?' + version\n        if (append) {\n            Promise.all([ued.loadStyle(css), ued.loadScript(js)]).then(bootstrap)\n            return\n        }\n        document.write('<link rel=\"stylesheet\" href=\"' + css + '\">')\n        document.write('<script src=\"' + js + '\"></script>')\n    }\n    bootstrap()\n}\n\nfunction bootstrap () {\n    angular.element(document).ready(function () {\n        angular.bootstrap(document, ['ued'])   //angular.bootstarp只会绑定第一次加载的对象   后面重复绑定或者其他对象绑定 都会在控制台输出错误\n//      angular.bootstrap(element,['module'],['config']); //手动加载angularjs的模板   参数1：绑定的ng-app的dom元素  参数2：绑定的模块  参数3：附加的配置\n    })\n}\n","/**\n * 处理 <a> 的 href 属性，让跳转不受 <base> 影响\n * 如果 href 为 空、#、javascript: 开头，点击会阻止\n *\n * 如果不需要处理 或者 遇到严重 BUG，删除本文件，使用 JS 跳转: ued.href() ued.replace()\n */\nangular.module('ued').directive('a', function () { //directive自定义指令 指令名称为a\n    return {\n        restrict: 'E', //取值有三种     A：用于元素Attribute   E:用于元素的名称        C：用于css中的class\n        link: function (scope, element, attrs) { //link函数可以用于绑定一些事件\n            $(element).on('click', function (event) {\n                var href = $.trim($(this).attr('href')) //$.trim去除字符串两端空白字符 获取目标a元素的href值\n                var target = $.trim($(this).attr('target')) //获取目标a元素的href值\n                if (href === '' || href === '#' || href.indexOf('javascript:') === 0) {\n                    return false\n                }\n                href = ued.path(href)\n                switch (target) {\n                    case '_blank':\n                        window.open(href) \n                        break\n                    case '_parent':\n                        window.parent.open(href) \n                        break\n                    case '_top':\n                        window.top.open(href) \n                        break\n                    default:\n                        var iframe = $('iframe[name=\"' + target + '\"]')\n                        if (target !== '_self' && iframe.length) {\n                            iframe.attr('src', href)\n                        } else {\n                            ued.href(href)\n                        }\n                }\n                return false\n            })\n        }\n    }\n})","/**\n * 拿到标签渲染完的回调\n *\n * @example\n *  <div u-render=\"onRender()\"></div>\n */\nangular.module('ued').directive('uRender', function ($timeout) { //定义一个名为uRender的指令\n    return {\n        restrict: 'A', //attribute属性  用在元素的属性上\n        link: function (scope, element, attrs) { //link函数用于绑定一些事件 和数据\n            scope.$watch(function () {            //绑定监听事件\n                scope.$eval(attrs.ngBindHtml)\n            }, function (value) {\n                $timeout(function () {\n                    scope.$eval(attrs.uRender, {$element: element})\n                })\n            })\n        }\n    }\n})","angular.module('ued').directive('pageAward', function (WebApi) {\r\n    return {\r\n        templateUrl: 'page/award.html',\r\n        restrict: 'E',\r\n        link: function (scope) {\r\n            ued.title('中奖了！')\r\n            \r\n            scope.showHintCover = false;\r\n            \r\n            if(!ued.query('user_id')){\r\n            \tued.href('index.html')\r\n            \treturn\r\n            }            \r\n            //获取奖品\r\n            scope.user_id = ued.query('user_id')\r\n            getTimes(scope.user_id)\r\n                        \r\n            scope.showOne = true;\r\n            scope.showFreeOpen = false;\r\n            scope.showCredits = false;\r\n            scope.showTicketOne = false;\r\n            scope.showTicketTwo = false;\r\n            scope.showCloth = false;           \r\n            scope.showBuilding = false;\r\n            scope.showThreePiece = false;\r\n            \r\n            \r\n            //获取剩余敲门次数           \r\n            function getTimes(user_id){\r\n            \tWebApi.getTimes({user_id: user_id}).always(function(){\t\t\t\t\t\r\n\t\t\t\t}).then(function(res){\r\n\t\t\t\t\tconsole.info(res)\r\n\t\t\t\t\tif(res.result==0){\r\n\t\t\t\t\t\tscope.showHintCover = true;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//获取奖品\r\n\t\t\t\t\tgetAward(scope.user_id)\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t},function(res){\r\n\t\t\t\t\tconsole.info(res)\r\n\t\t\t\t})\r\n            }\r\n                        \r\n            //获取奖品\r\n            function getAward(user_id){\r\n            \tWebApi.getAward({user_id: user_id}).always(function(){\t\t\t\t\t\r\n\t\t\t\t}).then(function(res){\r\n\t\t\t\t\tconsole.info(res)\r\n\t\t\t\t\tif(res.result==1){ //游乐场免费解锁\r\n\t\t\t\t\t\tscope.showOne = true;\r\n\t\t\t\t\t\tscope.showFreeOpen = true;\r\n\t\t\t\t\t\tscope.$apply()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(res.result==2){ //积木玩具\r\n\t\t\t\t\t\tscope.showOne = false;\r\n\t\t\t\t\t\tscope.showBuilding = true;\r\n\t\t\t\t\t\tscope.prize_id = 2;\r\n\t\t\t\t\t\tscope.$apply()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(res.result==3){ //教具三件套\r\n\t\t\t\t\t\tscope.showOne = false;\r\n\t\t\t\t\t\tscope.showThreePiece = true;\r\n\t\t\t\t\t\tscope.prize_id = 3;\r\n\t\t\t\t\t\tscope.$apply()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(res.result==4){ //20-10优惠券\r\n\t\t\t\t\t\tscope.showOne = true;\r\n\t\t\t\t\t\tscope.showTicketOne = true;\r\n\t\t\t\t\t\tscope.$apply()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(res.result==5){ //30-20优惠券\r\n\t\t\t\t\t\tscope.showOne = true;\r\n\t\t\t\t\t\tscope.showTicketTwo = true;\r\n\t\t\t\t\t\tscope.$apply()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(res.result==6){ //小鬼服装\r\n\t\t\t\t\t\tscope.showOne = true;\r\n\t\t\t\t\t\tscope.showCloth = true;\r\n\t\t\t\t\t\tscope.$apply()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(res.result==7){ //积分100\r\n\t\t\t\t\t\tscope.showOne = true;\r\n\t\t\t\t\t\tscope.showCredits = true;\r\n\t\t\t\t\t\tscope.$apply()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t},function(res){\r\n\t\t\t\t\tconsole.info(res)\r\n\t\t\t\t})\r\n            }\r\n            \r\n            \r\n            //抽奖次数用光了\r\n            scope.closeHintCover = function(){\r\n            \tscope.showHintCover = false;\r\n            }\r\n            \r\n            //返回\r\n            var token = ued.cookie.get('bodoo_token')\r\n            scope.goBack = function(){\r\n            \tued.href('index.html?bodoo_token='+token+'')\r\n            }\r\n            //购买\r\n            scope.goPay = function(){\r\n            \tued.href('http://oauth.bbpapp.com/payment/alipay_web?access_token='+token+'&product_id=100001&amount=0.1&call_back_url=http://campaigns.bbpapp.com/cc266c08/index/paySuccess?access_token='+token+'')\r\n            }\r\n            //提交表单\r\n            scope.goUpdata = function(){\r\n            \tscope.name = $('.ipt-name').val()\r\n            \tscope.loco = $('.ipt-loco').val()\r\n            \tscope.phone = $('.ipt-phone').val()\r\n            \tif(!scope.name || !scope.loco || !scope.phone){\r\n            \t\talert('请填写收货信息！')\r\n            \t\treturn\r\n            \t}\r\n            \tWebApi.updataLoco({user_id: scope.user_id,prize_id: scope.prize_id,name: scope.name,address: scope.loco,phone_number: scope.phone}).always(function(){\t\t\t\t\t\r\n\t\t\t\t}).then(function(res){\r\n\t\t\t\t\talert('提交成功！')\r\n\t\t\t\t\tvar token = ued.cookie.get('bodoo_token')\r\n            \t    ued.href('index.html?bodoo_token='+token+'')\r\n\t\t\t\t},function(res){\r\n\t\t\t\t\tconsole.info(res)\r\n\t\t\t\t})\r\n            \t\r\n            }\r\n            \r\n            \r\n\r\n            \r\n            function showLoading () {\r\n                loading = weui.loading('加载中...')\r\n            }\r\n\r\n            function hideLoading () {\r\n                loading && loading.hide()\r\n            }\r\n        }\r\n    }\r\n})","angular.module('ued').directive('pageIndex', function (WebApi) {\n    return {\n        templateUrl: 'page/index.html',\n        restrict: 'E',\n        link: function (scope) {\n            ued.title('糖果大狂欢')\n            \n            isIpad()\n            \n            scope.showHintCover = false;\n            scope.showPaybtn = false;\n            if(!ued.query('bodoo_token')){\n        \t\tscope.showHintCover = true;        \t\t\n        \t}            \n            if(ued.query('bodoo_token')){\n            \t//获取是否登录  和  剩余抽奖次数\n            \tued.cookie.set('bodoo_token',ued.query('bodoo_token'))           \t\n            \t\n            \tisLogin(ued.query('bodoo_token'))\n            }\n            \n            scope.playAudio = function(){\n            \tclickPlay({\n\t\t\t    \taudio: document.querySelector('#audio'),\n\t\t\t\t\tsrc: $('.center').attr('data-audio')\n\t\t\t    })\n            }\n                       \n            //敲门讨糖\n            scope.getCondy = function(){\n            \t//判断登录\n            \tif(!ued.query('bodoo_token')){\n            \t\tscope.showHintCover = true;\n            \t\treturn\n            \t}\n            \tif(!scope.user_id){\n            \t\tscope.showHintCover = true;\n            \t\treturn\n            \t}\n            \tif(scope.times==0){\n            \t\tscope.showHintCover = true;\n            \t\tscope.showPaybtn = true;\n            \t\t$('.hint-title').hide()\n            \t\t$('.hint-text').hide()\n            \t\t$('.hint-title-two').show()\n            \t\t$('.hint-title-three').show()\n            \t\treturn\n            \t}\n            \tclickPlay({\n\t\t\t    \taudio: document.querySelector('#audio'),\n\t\t\t\t\tsrc: $('.btn-get').attr('data-audio')\n\t\t\t    })\n            \tsetTimeout(function(){\n            \t\tclickPlay({\n\t\t\t\t    \taudio: document.querySelector('#audio'),\n\t\t\t\t\t\tsrc: $('.right').attr('data-audio')\n\t\t\t\t    })\n            \t},2000)\n            \t$('.condy-one').addClass('bounceInDown')\n            \t$('.condy-two').addClass('bounceInDownTwo')\n            \t$('.condy-three').addClass('bounceInDownThree')\n            \t            \t\n            }\n            \n            //点击糖果 跳转下一页\n            scope.goNextPage = function($event){           \t\n            \tif($($event.target).css('opacity')>=0.9 && scope.user_id){\r\n            \t\tued.href('award.html?user_id='+scope.user_id+'')\r\n            \t}\n            }\n            \n            \n                       \n            //活动规则\n            scope.showCover = false;\n            scope.openCover = function(){\n            \tscope.showCover = true;\n            }\n            scope.closeCover = function(){\n            \tscope.showCover = false;\n            }\n            \n            //登录提示\n            scope.closeHintCover = function(){\n            \tscope.showHintCover = false;\n            }\n            \n            //购买\n            var token = ued.query('bodoo_token');\n            \n            scope.goPay = function(){\n            \tif(!token){\n            \t\tscope.showHintCover = true;\n            \t\treturn\n            \t}\n            \tued.href('http://oauth.bbpapp.com/payment/alipay_web?access_token='+token+'&product_id=100001&amount=0.1&call_back_url=http://campaigns.bbpapp.com/cc266c08/index/paySuccess?access_token='+token+'')\n            }\n            \n            //判断登录\n            function isLogin(access_token){\n            \tWebApi.isLogin({access_token: access_token}).always(function(){\t\t\t\t\t\n\t\t\t\t}).then(function(res){\n\t\t\t\t\tconsole.info(res)\n\t\t\t\t\tif(res.code==0){\n\t\t\t\t\t\tscope.showHintCover = true;\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tscope.user_id = res.result.id\n\t\t\t\t\t//获取剩余抽奖次数\n\t\t\t\t\tgetTimes(scope.user_id)\t\t\t\t\t\n\t\t\t\t},function(res){\n\t\t\t\t\tconsole.info(res)\n\t\t\t\t})\n            }\n            \n            //获取剩余敲门次数\n            scope.times = 0;\n            function getTimes(user_id){\n            \tWebApi.getTimes({user_id: user_id}).always(function(){\t\t\t\t\t\n\t\t\t\t}).then(function(res){\n\t\t\t\t\tconsole.info(res)\n\t\t\t\t\tscope.times = res.result\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t},function(res){\n\t\t\t\t\tconsole.info(res)\n\t\t\t\t})\n            }\n            \n            //查看我的奖品\n            scope.showMyPrize = function(){\n            \tif(!ued.query('bodoo_token')){\n            \t\tscope.showHintCover = true;\n            \t\treturn\n            \t}\n            \t\n            \tgetPrize(ued.query('bodoo_token'))\n            }\n            //关闭奖品弹层\n            scope.showPrizeCover = false;\n            scope.closePrizeCover = function(){\n            \tscope.showPrizeCover = false;\n            }\n            \n            \n            //获取我的奖品\n            function getPrize(access_token){\n            \tWebApi.getMyPrize({access_token: access_token}).always(function(){\t\t\t\t\t\n\t\t\t\t}).then(function(res){\n\t\t\t\t\tconsole.info(res)\n\t\t\t\t\tscope.prizeList = res.result\n\t\t\t\t\tscope.showPrizeCover = true;\n\t\t\t\t\t\n\t\t\t\t},function(res){\n\t\t\t\t\tconsole.info(res)\n\t\t\t\t})\n            }\n            \n            //ipad\n            function isIpad(){\n           \t   var ua = navigator.userAgent;  \n           \t   if (ua.indexOf(\"iPad\") > 0) {\n           \t   \t   $('.center').addClass('center-ipad')\n           \t   \t   $('.top').addClass('top-ipad')\n           \t   \t   $('.condy-one').addClass('condy-one-ipad')\n           \t   \t   $('.condy-two').addClass('condy-two-ipad')\n           \t   \t   $('.condy-three').addClass('condy-three-ipad')\n           \t   \t   $('.rule-box').addClass('rule-box-ipad')\n//         \t   \t   $('.btn-get').addClass('btn-get-ipad')\r\n//         \t   \t   $('.btn-rule').addClass('btn-rule-ipad')\n\t\t\t   }\n            }\n            \n            \t\n            \n            function initPlay(opts){\n            \topts.audio.src = opts.src;\n\t\t        opts.audio.play();       \n\t\t\t\tplay = function(){\n\t\t\t\t\topts.audio.play();\n\t\t\t\t\t\n\t\t\t\t};\n\t\t\t\tdocument.addEventListener(\"WeixinJSBridgeReady\",function(){\n\t\t\t\t\tplay();\n\t\t\t\t},false);\n\t\t\t\t\n            }\n            function clickPlay(opts){\n            \topts.audio.src = opts.src;\n\t\t\t    opts.audio.play();\t\t\t\n\t\t\t    if(opts.stepbystep) {\n\t\t\t        $(opts.audio).attr('data-isplaying', 'true');\n\t\t\t    }\t\t\t\n\t\t\t    $(opts.audio).off('ended').on('ended', function(e) {\n\t\t\t        opts.audio.pause();\n\t\t\t        if(opts.stepbystep) {\n\t\t\t            $(opts.audio).attr('data-isplaying', 'false');\n\t\t\t        }\n\t\t\t        opts.callback && opts.callback();\n\t\t\t    });\t\n            }\n            \n            function showLoading () {\n                loading = weui.loading('加载中...')\n            }\n\n            function hideLoading () {\n                loading && loading.hide()\n            }\n        }\n    }\n})","angular.module('ued').service('uCommon', function (WebApi) {\r\n\tvar uCommon = {}\r\n\t\r\n\t//判断授权\r\n\tuCommon.getUsercookie = function(){\r\n\t\tif(!ued.cookie.get('Weixin_userInfo')){\r\n\t\t\tvar enlink = window.location.origin+'/toutiao/index.html';\r\n\t\t\tued.href(window.location.origin+'/headlines/auth/weixinauth?callbackUrl='+enlink+'');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n\treturn uCommon\r\n})","\n\nangular.module('ued').service('WebApi', function () {\n    /**\n     * 示例，应该删除\n     */\n//  this.test = function () {\r\n//      return ued.get('/hello').then(function (res) {\r\n//          // 可以先做一些数据处理等操作 再返回想要的内容，\r\n//          // 下一次 then 就是这里 return 的值\r\n//          var result = res.result\r\n//          result.abcd = 1234\r\n//          return result\r\n//      })\r\n//  }\r\n//\r\n//  this.abc = function () {\r\n//      return ued.post('/abc', {d: 'e'})\r\n//  }\n    \n    //获取微信\n    this.getWeiXin = function (data) {\r\n    \treturn ued.get('http://weixin.bbpapp.com/lesson/weixin/getwxjsconfig',data)\r\n    }\n    \n    //判断登录\n    this.isLogin = function(data){\n    \treturn ued.get('http://campaigns.bbpapp.com/cc266c08/index/checkLogin',data)\n    }\n    \n    //获取抽奖次数\n    this.getTimes = function(data){\n    \treturn ued.get('http://campaigns.bbpapp.com/cc266c08/index/UserSweepstakesNum',data)\n    }\n    \n    //获取奖品\n    this.getAward = function (data) {\n    \treturn ued.get('http://campaigns.bbpapp.com/cc266c08/index/startSweepstakes',data)\n    }\n    \n    //提交地址\n    this.updataLoco = function(data){\n    \treturn ued.post('http://campaigns.bbpapp.com/cc266c08/index/createAddress',data)\n    }\n    \n    //获取我的奖品\n    this.getMyPrize = function(data){\n    \treturn ued.get('http://campaigns.bbpapp.com/cc266c08/index/myPrizeList',data)\n    }\n    \n    \n})\n","/**\r\n * 输出富文本\r\n *\r\n * @example\r\n *  <div ng-bind-html=\"xxx | uHtml\"></div>\r\n */\r\nangular.module('ued').filter('uHtml', function ($sce) { //过滤器名称为uHtml\r\n    return function (source) {\r\n        return $sce.trustAsHtml(source)  //把html格式的字符串转成html格式显示\r\n    }\r\n})","\r\n<div class=\"top-one\" ng-show=\"showOne\">\r\n\t<div class=\"award-freeopen\" ng-show=\"showFreeOpen\"></div>\r\n\t<div class=\"award-credits\" ng-show=\"showCredits\"></div>\r\n\t<div class=\"award-ticketOne\" ng-show=\"showTicketOne\"></div>\r\n\t<div class=\"award-ticketTwo\" ng-show=\"showTicketTwo\"></div>\r\n\t<div class=\"award-cloth\" ng-show=\"showCloth\"></div>\r\n\t<p class=\"hint\">花0.1元钱，将得到5次继续讨糖果机会</p>\r\n\t<div class=\"btn-pay\" ng-click=\"goPay()\"></div>\r\n\t<div class=\"btn-back\" ng-click=\"goBack()\"></div>\r\n</div>\r\n\r\n<div class=\"top-two\" ng-show=\"!showOne\">\r\n\t<div class=\"award-building\" ng-show=\"showBuilding\"></div>\r\n\t<div class=\"award-threePiece\" ng-show=\"showThreePiece\"></div>\r\n\t<p class=\"hint\">花0.1元钱，将得到5次继续讨糖果机会</p>\t\r\n\t<p class=\"title\"><img src=\"static/loco.png\" alt=\"\" />  请填写收货地址</p>\r\n\t<p class=\"box name\">姓名：<input class=\"ipt ipt-name\" type=\"text\" /></p>\r\n\t<p class=\"box loco\">地址：<input class=\"ipt ipt-loco\" type=\"text\" /></p>\r\n\t<p class=\"box phone\">手机：<input class=\"ipt ipt-phone\" type=\"text\" /></p>\t\t\t\r\n\t<div class=\"btn-ok\" ng-click=\"goUpdata()\"></div>\r\n</div>\r\n\r\n<div class=\"cover-hint\" ng-show=\"showHintCover\">\r\n\t<div class=\"hint-box\">\t\t\t\t\r\n\t\t<p class=\"hint-title-two\">- 抽奖次数用光啦 -</p>\r\n\t\t<div class=\"hint-btn\" ng-click=\"closeHintCover()\">知道了</div>\r\n\t</div>\r\n</div>","\n\n<audio id=\"audio\" src=\"\"></audio>\n<div class=\"center\" data-audio=\"static/index-bgm.mp3\" ng-click=\"playAudio()\">\n\t<div class=\"top\"></div>\n\t<div class=\"left-ghost\"></div>\n\t<div class=\"left\"></div>\n\t<div class=\"right\" data-audio=\"static/clickcondy.mp3\"></div>\n\t<div class=\"condy-one\" ng-click=\"goNextPage($event)\"></div>\n\t<div class=\"condy-two\" ng-click=\"goNextPage($event)\"></div>\n\t<div class=\"condy-three\" ng-click=\"goNextPage($event)\"></div>\n</div>\n\n<div class=\"my-prize\" ng-click=\"showMyPrize()\"></div>\n\n<div class=\"btn-get\" ng-click=\"getCondy()\" data-audio=\"static/knock.mp3\"></div>\n<div class=\"btn-rule\" ng-click=\"openCover()\"></div>\n<p class=\"time\">剩余敲门次数 <span class=\"point-word\">{{times}}</span> 次</p>\n\n<div class=\"cover\" ng-show=\"showCover\">\n\t<div class=\"rule-box\">\n\t\t<div class=\"close-btn\" ng-click=\"closeCover()\"></div>\n\t</div>\n</div>\n\n<div class=\"cover-hint\" ng-show=\"showHintCover\">\n\t<div class=\"hint-box\">\n\t\t<div class=\"btn-close\" ng-click=\"closeHintCover()\"></div>\n\t\t<p class=\"hint-title\">- 您还未登录 -</p>\n\t\t<p class=\"hint-text\">请在APP首页，点击【父母中心】</p>\n\t\t<p class=\"hint-text\"><img src=\"static/dot.png\" alt=\"\" />【设置】<img src=\"static/dot.png\" alt=\"\" />【登录】登录后继续</p>\n\t\t<p class=\"hint-title-two\">- 抽奖次数用光啦 -</p>\n\t\t<p class=\"hint-title-three\">花0.1元钱，将得到5次继续讨糖果机会</p>\n\t\t<div class=\"hint-btn\" ng-show=\"showPaybtn\" ng-click=\"goPay()\">去支付</div>\n\t</div>\n</div>\n\n<div class=\"prize-cover\" ng-show=\"showPrizeCover\">\n\t<div class=\"prize-close\" ng-click=\"closePrizeCover()\"></div>\n\t<div class=\"prize-box\">\n\t\t<div class=\"prize-list\">\n\t\t\t<p class=\"prize-item\" ng-repeat=\"prize in prizeList\"><img src=\"static/head.png\" alt=\"\" />{{prize.prize_name}}</p>\t\t\t\n\t\t</div>\n\t</div>\n</div>\n\n<img style=\"display: none;\" src=\"static/rule.png\" alt=\"\" />"]}